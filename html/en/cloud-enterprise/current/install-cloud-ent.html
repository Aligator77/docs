<!DOCTYPE html><html lang="en-us"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Getting Started
        | Elastic Cloud Enterprise Guide
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elastic Cloud Enterprise Guide" /><link rel="up" href="index.html" title="Elastic Cloud Enterprise Guide" /><link rel="prev" href="pr01.html" title="" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Docs/CloudEnterprise/Reference" /><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><script type='text/javascript' async>
    (function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
     c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
     g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
     })(window,document,"rtp","//sjrtp2-cdn.marketo.com/rtp-api/v1/rtp.js","elasticco");

    rtp('send','view');
    rtp('get', 'campaign',true);
    </script><link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png"><link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192"><link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16"><link rel="manifest" href="/manifest.json"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff"><meta name="apple-mobile-web-app-title" content="Elastic"><meta name="application-name" content="Elastic"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/mstile-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"><meta name="description" content=""/><meta property="og:image" content="/static/img/cluster-small.png"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="icon" href="/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png"><link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png"><link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png"><link href="https://static-www.elastic.co/static/css/main.css?q=635" rel="stylesheet"><script src="https://static-www.elastic.co/static/js/jquery.min.js?q=635"></script><script src="https://static-www.elastic.co/static/js/bootstrap.min.js?q=635"></script> <!--[if lt IE 9]><script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script><script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]--><link type="text/css" rel="stylesheet" href="https://static-www.elastic.co/static/css/guide.css?q=635"/>
<link rel="stylesheet" type="text/css" href="styles.css" />

</head><body><script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-58RLH5');</script><script data-cfasync="false" type='text/javascript'>/*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
    f[z]=function(){
    (a.s=a.s||[]).push(arguments)};var a=f[z]._={
    },q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
    f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
    0:+new Date};a.P=function(u){
    a.p[u]=new Date-a.p[0]};function s(){
    a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
    hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
    return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
    b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
    b.contentWindow[g].open()}catch(w){
    c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
    var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
    b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
    loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
    /* custom configuration goes here (www.olark.com/documentation) */
    olark.identify('1356-750-10-5709');/*]]>*/</script><noscript><a href="https://www.olark.com/site/1356-750-10-5709/contact" title="Contact us" target="_blank">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a></noscript><header class="header-wrapper"><div class="navigation-wrapper"><div class="container"><nav class="navbar"><div class="navbar-mobile-header navbar-header mr-20 mr-xs-0"><div class="row hidden-sm hidden-md hidden-lg"><div class="col-xs-5 hidden-sm hidden-md hidden-lg"><div class="navbar-mobile-header-icon navbar-mobile-header-icon-out"><span></span><span></span><span></span></div> <a href="/learn" class="nav-title hidden-sm hidden-md hidden-lg m-l-8">Learn</a></div><div class="col-xs-2 text-center"><div class="navbar-brand" id="elastic"><h1> <a class="logo-m hidden-sm hidden-md hidden-lg" href="/"><img src="https://static-www.elastic.co/assets/bltd5ac38b4549d53de/elastic-logo-mobile (1).svg?q=635" alt="elastic-logo-mobile"></a></h1></div></div><div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right"><ul class="menu-m hidden-sm hidden-md hidden-lg"><li class=""><a class="icon-contact" href="/contact"></a></li><li id="searchbar"><a class="button icon" href="#"></a></li><li class="lang global-language"> <a href="#">EN</a><ul class="language-list"><li><a href="/">English</a></li><li><a href="/fr/">Français</a></li><li><a href="/de/">Deutsch</a></li><li><a href="/jp/">日本語</a></li><li><a href="/kr/">한국어</a></li></ul></li></ul></div></div><div class="navbar-brand hidden-xs" id="elastic"><h1> <a class="hidden-xs" id="elastic-logo" href="/"><img src="https://static-www.elastic.co/assets/blt6050efb80ceabd47/elastic-logo (2).svg?q=635" alt="elastic-logo"></a></h1></div></div><div class="collapse navbar-collapse mobile-inner-nav"><nav class="nav navbar-nav primary-nav-hover" id="nav"><ul><li> <a id="nav_products" class=" " href="/products">Products</a></li><li> <a id="nav_cloud" class=" " href="/cloud">Cloud</a></li><li> <a id="nav_services" class=" " href="/services">Services</a></li><li> <a id="nav_customers" class=" " href="/use-cases">Customers</a></li><li> <a id="nav_learn" class="active" href="/learn">Learn</a></li></ul></nav><nav class="nav navbar-nav navbar-right hidden-xs"><ul><li class="hidden-xs hidden-sm"><a href="/downloads">downloads</a></li><li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li><li class="hidden-xs hidden-sm"><a class="btn btn-secondary btn-contact" href="/contact?storm=global-header-en">contact</a></li><li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact?storm=global-header-en"></a></li><li class="hidden-xs" id="searchbar"><a class="button icon" href="#"></a></li><li class="hidden-xs lang global-language"> <a href="#">EN</a><ul class="language-list"><li><a class="" href="/">English</a></li><li><a class="" href="/fr/">Français</a></li><li><a class="" href="/de/">Deutsch</a></li><li><a class="" href="/jp/">日本語</a></li><li><a class="" href="/kr/">한국어</a></li></ul></li></ul></nav></div></nav></div></div><div class="header-search-wrapper open-search"><div class="container"><div class="big-search"><i class="big-search-icon"></i><form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get"><ul class="tags-wrapper"><li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li></ul></form><a class="header-search-cancel" href="#"></a></div><div class="nav-auto-complete"></div></div></div></header><style> 
    
      .m-shortcuts li a.m-search {
        background: url("https://static-www.elastic.co/assets/blt7b9c4fe6528dc4ef/m-search-icon.png?q=635") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("https://static-www.elastic.co/assets/blt44d8b7530a76d01c/m-guide-icon.png?q=635") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("https://static-www.elastic.co/assets/blt878040795c9d083b/m-contact-icon.png?q=635") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
    
</style><script type="text/javascript">
  $(document).ready( function(){
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
    });

    var active_url = "";

    $(".navbar-mobile-header-icon").click(function(index){
      $('.navigation-wrapper').toggleClass('menu-overlay');
      $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
      $(".mobile-inner-nav").slideToggle(500);
      $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
        $(this).css({'animation-delay': (index/25)+'s'});
      });
    });

    $('.dropdown-arrow').on('click', function(e){
      console.log("inside click");
      e.preventDefault();
      setDropdown();
    });
    
    function setDropdown() {
      $('#myDropdown').toggleClass('show');
    }

    $('body').on('click', function(event){
      if (!event.target.matches('.dropdown-arrow')) {

        var dropdowns = $(".dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    });

    if($(window).width() < 769){
      var $item = $('.scrollable-panel li'), 
          visible = 3, //Set the number of items that will be visible
          index = 0, //Starting index
          endIndex = ( $item.length / visible ) - 1; //End index (NOTE:: Requires visible to be a factor of $item.length... You can improve this by rounding...)

      $('#right-arrow').click(function(){
        if(index < endIndex ){
          index++;
          $item.animate({'left':'-=300px'});
        }
      });

      $('#left-arrow').click(function(){
        if(index > 0){
          index--;            
          $item.animate({'left':'+=300px'});
        }
      });
    }
  });
</script><div class="tertiary-nav"><div class="container"><div class="p-t-b-15 bdr-btm-e0e0e0 clearfix"><div class="breadcrum-wrapper pull-left text-left"> <a href="/guide">Docs</a></div></div></div></div><div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg bdr-btm-e0e0e0 clearfix"><div class="container"><div class="breadcrum-wrapper pull-left text-left"> <a href="/guide">Docs</a></div></div></div><div class="main-container"><section id="content"><div class="content-wrapper"><section id="guide"><div class="container"><div class="row">
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header"><b>PLEASE NOTE:</b> Elastic Cloud Enterprise is still in private Alpha and as such is not available for public download. If you&#39;re intersted in joining our private alpha program and take Cloud Enterprise for a spin, please leave your details at the <a href="https://info.elastic.co/cloud-enterprise">Elastic Cloud Enterprise info page</a>. 


</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Guide</a></span> » <span class="breadcrumb-node">Getting Started</span></div><div class="navheader"><span class="prev"><a href="pr01.html">
              « 
              </a>
           
        </span><span class="next">
           
          </span></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="install-cloud-ent"></a>Getting Started</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_service_definitions"></a>Service Definitions</h2></div></div></div><p>A Cloud Enterprise installation uses several small services that are coordinated through the Apache
<a class="ulink" href="https://ZooKeeper.apache.org/" target="_top">ZooKeeper</a> synchronization service. The ZooKeeper service keeps detailed information
about the state of the Cloud Enterprise installation and all of the clusters running on Cloud Enterprise.</p><p>ZooKeeper coordinates the following services:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
A <span class="emphasis"><em>coordinator</em></span> service manages a set of services that coordinate your Cloud Enterprise infrastructure.
</li><li class="listitem">
When your Cloud Enterprise installation creates an Elasticsearch node, that node runs on an <span class="emphasis"><em>allocator</em></span>, which
is a defined unit of computing resources. The <span class="emphasis"><em>allocator pool</em></span> collects the computing power available in active allocators.
</li><li class="listitem">
A <span class="emphasis"><em>constructor</em></span> service manages allocators and the lifecycle of Elasticsearch nodes on given clusters. You can specify
  Elasticsearch version, node size, and node configuration. The constructor is part of the services that make up a
  coordinator.
</li><li class="listitem">
A <span class="emphasis"><em>director</em></span> service manages the lifecycle of a ZooKeeper node. Director machines typically pair with constructors.
</li><li class="listitem">
A <span class="emphasis"><em>proxy</em></span> service manages the mapping between a user request and the Elasticsearch cluster within the
  region. Proxies route to the closest available node, based on the defined availability zone during installation.
</li></ul></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
A <span class="emphasis"><em>runner</em></span> service is a local supervisor that deploys local containers. The runner service
  deploys on all nodes, and spins up other containers based on the role definitions.
</li><li class="listitem">
You can use the <span class="emphasis"><em>admin console</em></span> service UI to perform administrative tasks on your Cloud Enterprise
installation.
</li></ul></div><p>This list is incomplete, and includes only the most fundamental aspects of a Cloud Enterprise installation.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_installation_prerequisites"></a>Installation Prerequisites</h2></div></div></div><p>The alpha2 release of Elastic Cloud Enterprise requires host machines that meet the following prerequisites:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
At least 16 GB of RAM, 64 GB or more preferred
</li></ul></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
One of the following Linux distributions:
</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
Ubuntu 14.04 LTS (Trusty Tahr)
</li><li class="listitem">
CentOS 7.1 or later (our testing has been limited to installing and running Elastic Cloud Enterprise on CentOS 7.2., with full testing planned for the 1.0 GA release)
</li></ul></div></li></ul></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Linux kernel 3.10 or later, the latest 3.19.x version preferred
</li></ul></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Docker 1.9.1 with Ubuntu or Docker 1.11 with CentOS
</li><li class="listitem">
A user with sudo permissions (we use <code class="literal">ubuntu</code> in the examples in this guide)
</li><li class="listitem">
Internet access for product installation
</li><li class="listitem"><p class="simpara">
Inbound traffic open on the following ports:
</p><div class="informaltable"><table cellpadding="4px" border="0"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /></colgroup><thead><tr><th align="left" valign="top">Host type</th><th align="center" valign="top">Inbound ports</th><th align="center" valign="top">Source<sup>1</sup></th><th align="left" valign="top">Purpose</th></tr></thead><tbody><tr><td align="left" valign="top"><p>All</p></td><td align="center" valign="top"><p>22</p></td><td align="center" valign="top"><p>Internal</p></td><td align="left" valign="top"><p>Required for troubleshooting</p></td></tr><tr><td align="left" valign="top"><p>All</p></td><td align="center" valign="top"><p>12375</p></td><td align="center" valign="top"><p>Internal</p></td><td align="left" valign="top"><p>Upgrader service</p></td></tr><tr><td align="left" valign="top"><p>Coordinator</p></td><td align="center" valign="top"><p>12400</p></td><td align="center" valign="top"><p>Internal</p></td><td align="left" valign="top"><p>Admin console web UI (http)</p></td></tr><tr><td align="left" valign="top"><p>Coordinator</p></td><td align="center" valign="top"><p>12300</p></td><td align="center" valign="top"><p>Internal</p></td><td align="left" valign="top"><p>Admin console API (http)</p></td></tr><tr><td align="left" valign="top"><p>Coordinator</p></td><td align="center" valign="top"><p>12443</p></td><td align="center" valign="top"><p>Internal</p></td><td align="left" valign="top"><p>Admin console web UI (https)</p></td></tr><tr><td align="left" valign="top"><p>Coordinator</p></td><td align="center" valign="top"><p>12343</p></td><td align="center" valign="top"><p>Internal</p></td><td align="left" valign="top"><p>Admin console API (https)</p></td></tr><tr><td align="left" valign="top"><p>Coordinator</p></td><td align="center" valign="top"><p>8764</p></td><td align="center" valign="top"><p>Internal</p></td><td align="left" valign="top"><p>Admin console services forwarder</p></td></tr><tr><td align="left" valign="top"><p>Director</p></td><td align="center" valign="top"><p>12191-12301, 12898-12908, 13898-13908</p></td><td align="center" valign="top"><p>Internal</p></td><td align="left" valign="top"><p>ZooKeeper stunnels (typically up to five)</p></td></tr><tr><td align="left" valign="top"><p>Director</p></td><td align="center" valign="top"><p>2112</p></td><td align="center" valign="top"><p>Internal</p></td><td align="left" valign="top"><p>ZooKeeper ensemble discovery/joining</p></td></tr><tr><td align="left" valign="top"><p>Allocator</p></td><td align="center" valign="top"><p>18000-19999</p></td><td align="center" valign="top"><p>Internal</p></td><td align="left" valign="top"><p>Elasticsearch (http and transport)</p></td></tr><tr><td align="left" valign="top"><p>Proxy</p></td><td align="center" valign="top"><p>9200/9243</p></td><td align="center" valign="top"><p>Any</p></td><td align="left" valign="top"><p>Kibana and Elasticsearch (http/https)</p></td></tr><tr><td align="left" valign="top"><p>Proxy</p></td><td align="center" valign="top"><p>9300/9343</p></td><td align="center" valign="top"><p>Any</p></td><td align="left" valign="top"><p>Elasticsearch (transport/ssl and transport)</p></td></tr></tbody></table></div><p class="simpara"><sup>1</sup><span class="small"><span class="emphasis"><em>Internal</em></span> means inbound traffic between components of Elastic Cloud Enterprise. <span class="emphasis"><em>Any</em></span> means inbound traffic can come in from any source.</span></p></li><li class="listitem">
Recommended: XFS file system
</li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_system_packages"></a>System Packages</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
Use the following commands to install the most current Linux kernel available on your system:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">$ sudo apt-get install -y linux-image-extra-$(uname -r) linux-image-extra-virtual xfsprogs
$ sudo apt-get upgrade -y</pre></div></li><li class="listitem"><p class="simpara">
Install Docker 1.9.1 per the <a class="ulink" href="https://docs.docker.com/engine/installation/linux/ubuntulinux/" target="_top">installation documentation</a>
in the Docker website. When installting the <code class="literal">docker-engine</code> package with <code class="literal">apt-get</code> use the following command:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">$ sudo apt-get install docker-engine=1.9.1-0~trusty</pre></div></li><li class="listitem"><p class="simpara">
Stop the docker service for further configuration:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">$ sudo service docker stop</pre></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_system_configuration"></a>System Configuration</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
Enable cgroup accounting for Memory and Swap.
</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
In the <code class="literal">/etc/default/grub</code> file, ensure that the <code class="literal">GRUB_CMDLINE_LINUX=</code> variable includes these values:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">cgroup_enable=memory swapaccount=1</pre></div></li><li class="listitem"><p class="simpara">
Update your Grub configuration
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">$ sudo update-grub</pre></div></li></ul></div></li><li class="listitem"><p class="simpara">
Adjust system limits
</p><p class="simpara">Elastic Cloud uses the following configuration values in the <code class="literal">/etc/security/limits.conf</code> file. As a best practice, use
these values for Elastic Cloud Enterprise</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>If you are using a username other that <code class="literal">ubuntu</code>, you will need to adjust the following configuration</p></div></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">*                soft    nofile         1024000
*                hard    nofile         1024000
*                soft    memlock        unlimited
*                hard    memlock        unlimited
ubuntu           soft    nofile         1024000
ubuntu           hard    nofile         1024000
ubuntu           soft    memlock        unlimited
ubuntu           hard    memlock        unlimited
root             soft    nofile         1024000
root             hard    nofile         1024000
root             soft    memlock        unlimited</pre></div></li><li class="listitem"><p class="simpara">
Recommended: Setting up an XFS file system
</p><p class="simpara">Elastic Cloud Enterprise requires an XFS filesystem in order to support disk space quotas for Elasticsearch data
directories.  This sets a limit on the amount of disk space a cluster node can use.  Currently, quotas are calculated by
a static ratio of 1:20; for every 1gb of RAM a cluster is given, a cluster node is allowed to consume 20gb of disk space.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>Using LVM, <code class="literal">mdadm</code>, or a combination of the two for block device management is a supported configuration, but
configuration is not covered here, nor is provided as part of supporting Cloud Enterprise.</p></div></div><p class="simpara">In this example, we are setting up XFS on a single, pre-partitioned, block device <code class="literal">/dev/xvdg1</code>.</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
Format the partition:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">$ sudo mkfs.xfs /dev/xvdg1</pre></div></li><li class="listitem"><p class="simpara">
Add an entry to the <code class="literal">/etc/fstab</code> file for the new XFS volume that has the mount options <code class="literal">pgquota,prjquota</code> enabled. The
default filesystem path used by Elastic Cloud Enterprise is <code class="literal">/mnt/data</code>.
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">/dev/xvdg1 /mnt/data xfs  defaults,pquota,prjquota  0 0</pre></div></li></ul></div></li><li class="listitem"><p class="simpara">
Create the <code class="literal">/mnt/data/</code> directory as a mount point:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">$ sudo install -d -m 700 /mnt/data</pre></div><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
Mount the block device
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">$ sudo mount /dev/xvdg1</pre></div></li></ul></div></li><li class="listitem"><p class="simpara">
Create the <code class="literal">/mnt/data/docker</code> directory for the Docker service storage:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">$ sudo install -d -m 700 /mnt/data/docker</pre></div></li><li class="listitem"><p class="simpara">
Configure Docker daemon options
</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
If you chose to configure XFS, adjust the configuration of <code class="literal">DOCKER_OPTS</code> in <code class="literal">/etc/default/docker</code>
</p><p class="simpara">The <code class="literal">-g</code> flag sets the new data path and <code class="literal">--storage-opt</code> specifies XFS as the default filesystem.  You can adjust the <code class="literal">--bip</code> flag as necessary or keep the default.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">DOCKER_OPTS="-g /mnt/data/docker --storage-opt dm.fs=xfs --bip=172.17.42.1/16"</pre></div></li><li class="listitem"><p class="simpara">
If you did not choose to configure XFS, you need to adjust <code class="literal">DOCKER_OPTS</code> as such:
</p><p class="simpara">The <code class="literal">-g</code> flag sets the new data path.  You can adjust the <code class="literal">--bip</code> flag as necessary or keep the default.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">DOCKER_OPTS="-g /mnt/data/docker  --bip=172.17.42.1/16"</pre></div><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>More information on Docker daemon options can be found <a class="ulink" href="https://docs.docker.com/v1.9/engine/reference/commandline/daemon/" target="_top">in the Docker daemon commandline reference</a></p></div></div></li></ul></div></li><li class="listitem"><p class="simpara">
Start the Docker service:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">$ sudo service docker start</pre></div></li><li class="listitem"><p class="simpara">
Enable your user to communicate with the Docker subsystem by adding it to the <code class="literal">docker</code> group:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">$ sudo usermod -aG docker ubuntu</pre></div></li><li class="listitem"><p class="simpara">
Recommended network tuning
Use the following commands to configure <code class="literal">sysctl</code>:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">$ sudo sysctl -w net.ipv4.tcp_max_syn_backlog=65536
$ sudo sysctl -w net.core.somaxconn=32768
$ sudo sysctl -w net.core.netdev_max_backlog=32768</pre></div></li><li class="listitem"><p class="simpara">
To make sure these changes persist across reboots, create a filed named <code class="literal">70-cloudenterprise.conf</code> in the <code class="literal">/etc/sysctl.d/</code> directory with our settings:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">$ cat &lt;&lt;SETTINGS &gt; /etc/sysctl.d/70-cloudenterprise.conf
net.ipv4.tcp_max_syn_backlog=65536
net.core.somaxconn=32768
net.core.netdev_max_backlog=32768
SETTINGS</pre></div></li><li class="listitem"><p class="simpara">
Create a project ID file for XFS quotas:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">$ python -c "for i in range(10000,30000): print '{0}:{0}'.format(i)" | sudo tee /etc/projid &gt; /dev/null</pre></div></li><li class="listitem">
Reboot your system
</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_launching_the_bootstrap_container"></a>Launching the Bootstrap Container</h2></div></div></div><p>Elastic Cloud Enterprise is based on Docker images.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Use the <code class="literal">docker login container-registry.elastic.co</code> command to log in to the Docker registry. Enter the credentials you received from the Elastic team
 at the prompts. The login process creates a file named <code class="literal">config.json</code> in the <code class="literal">.docker/</code> directory. For future nodes,
 you can copy the <code class="literal">config.json</code> file to the <code class="literal">.docker/</code> directory to skip the login step.
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">$ docker login container-registry.elastic.co
Username: cloudreadonly
Password:
Email: [YOU CAN LEAVE THIS EMPTY]
WARNING: login credentials saved in /home/ubuntu/.docker/config.json
Login Succeeded</pre></div></li><li class="listitem">
Download the Cloud Enterprise installation script from <code class="literal">https://elastic.github.io/cloud/docs/cloud-enterprise/cloud-ce-bootstrap.sh</code>
</li><li class="listitem"><p class="simpara">
Run the script to set up the installation. Fill in the values from the <code class="literal">config.json</code> file when prompted. The script saves these
values to the <code class="literal">elastic_cloud_bootstrap.conf</code> file, which you can use to automate future deployments. The current version string is <code class="literal">1.0.0-alpha2</code>.
</p><div class="informalexample"><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">$ sh cloud-ce-bootstrap.sh initial /mnt/data/elastic ~/.docker/config.json 1.0.0-alpha2</pre></div></div><p class="simpara">The script prompts for several values. The following example shows default values in square brackets:</p><div class="informalexample"><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">Host Storage Root Volume Path [/mnt/data]
Host Storage Device Path [/dev/mapper/found--vg-root]
Runner ID [runner-J950MD]
Runner Public Hostname SOME_HOSTNAME
Runner Host IP SOME_ROUTABLE_IP
Runner Region [on-prem-1]
Runner Availability Zone [on-prem-1a]
Runner Capacity [8192]</pre></div></div><div class="horizontal"><table cellpadding="4px" border="0"><colgroup><col /><col /></colgroup><tbody valign="top"><tr><td valign="top">
<p>
<code class="literal">Host Storage Root Volume Path</code>
</p>
</td><td valign="top">
<p>
Path to the XFS volume that serves as the storage root.
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">Host Storage Device Path</code>
</p>
</td><td valign="top">
<p>
The device that corresponds to the volume specified in <code class="literal">Host Storage Root Volume Path</code>.
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">Runner ID</code>
</p>
</td><td valign="top">
<p>
A unique name for each runner used by the Cloud Enterprise coordination system. This name can be
arbitrary, but using the machine name or IP address can help identify which machine is being referenced.
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">Runner Public Hostname</code>
</p>
</td><td valign="top">
<p>
The runner’s DNS hostname or IP address.
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">Runner Host IP</code>
</p>
</td><td valign="top">
<p>
The runner’s IP address. This must be a routable IP in your infrastructure. In the case of AWS,
it will almost always be the private IP of the host.
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">Runner Region</code>
</p>
</td><td valign="top">
<p>
Specifies the region the runner’s availability zones are in. This tag must be identical among all
machines in a given Cloud Enterprise installation.
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">Runner Availability Zone</code>
</p>
</td><td valign="top">
<p>
Specifies the runner’s availability zone. Zones are defined by your use case. AWS users have
predefined zones. For AWS users, Elastic recommends a 2 or 3 zone deployment. The zone name is arbitrary but must be
identical among all machines in a given zone.
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">Runner Capacity</code>
</p>
</td><td valign="top">
<p>
The amount of RAM this runner makes available for Elasticsearch clusters.
</p>
<div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
The <code class="literal">Runner Public Hostname</code> is the URL or IP that the Cloud UI uses to communicate with the backend api.
This must be a resolvable URL or IP from your local environment. In AWS, the public DNS need be used.
</li><li class="listitem">
The <code class="literal">bootstrap-state</code> directory is located in the <code class="literal">Host Storage Root Volume Path</code>, in the <code class="literal">elastic</code> subfolder.
This directory contains the root password for the Cloud UI, as well as the generated certificates from the system. Keep this information secure.
</li></ul></div></div></div>
<p>During the bootstrap process, Docker generates the secrets used by the system to secure various elements, as well as
root certificates to generate intermediate and client certificates to encrypt SSL communication among all of the services.</p>
</td></tr></tbody></table></div></li></ol></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_expected_output"></a>Expected Output</h3></div></div></div><p>The script writes bootstrap status information to standard output. Unless you see stack traces, this status information is an expected
part of the process. The following example shows the expected last lines of output from a sucessful run of a boostrap command. The
<code class="literal">aufs</code> error comes from a bug in a particular version of Docker and may not appear in your own output. Note that the installer may take a while to complete as it downloads multiple Docker images that are required to run Elastic Cloud Enterprise.</p><div class="informalexample"><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  Elastic Cloud Enterprise Bootstrap Initiator Completed Successfully
  Node type - initial
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Error deleting container: Error response from daemon: Cannot destroy container bfe798eaf9d2525de16366ffb02d335252bbe532d5eb6a7776cdb73944fd9845: Driver aufs failed to remove root filesystem bfe798eaf9d2525de16366ffb02d335252bbe532d5eb6a7776cdb73944fd9845: rename /mnt/data/docker/aufs/mnt/bfe798eaf9d2525de16366ffb02d335252bbe532d5eb6a7776cdb73944fd9845 /mnt/data/docker/aufs/mnt/bfe798eaf9d2525de16366ffb02d335252bbe532d5eb6a7776cdb73944fd9845-removing: device or resource busy</pre></div></div><p>The first Cloud Enterprise machine to comes online elects itself as a master coordinator. Future Cloud Enterprise
machines come online as non-privileged nodes. Navigate to the Cloud UI to view the UI.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_cloud_ui"></a>Cloud UI</h2></div></div></div><p>The first step is to retrieve the generated root password to the Cloud UI. The password is the value of
the <code class="literal">adminconsole_root_password</code> key in the <code class="literal">bootstrap-state/bootstrap-secrets.json</code> file. The file is located on the
initial coordinator in the <code class="literal">HOST_STORAGE_ROOT_VOLUME_PATH</code> directory. A JSON parsing tool similar to
<a class="ulink" href="https://stedolan.github.io/jq/" target="_top"><code class="literal">jq</code></a> can be useful for this task. For example, the following <code class="literal">jq</code> command sends the
<code class="literal">root</code> user password as output:</p><div class="informalexample"><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">jq -r '.adminconsole_root_password' /mnt/data/elastic/bootstrap-state/bootstrap-secrets.json</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_logging_in_to_cloud_ui"></a>Logging in to Cloud UI</h3></div></div></div><p>Access the Cloud Enterprise UI by using a Web browser to navigate to
<code class="literal">http://INITIAL_COORDINATOR_IP_OR_DNS_NAME:12400</code>. The username is <code class="literal">root</code> and the password is the password from the
<code class="literal">bootstrap-secrets.json</code> file.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>For demo purposes we are accessing the Cloud UI without SSL. <code class="literal">Https</code> is available, but it requires you to know
how to download and trust a certificate. It is different for each OS.</p></div></div><div class="informalfigure"><div class="mediaobject"><img src="images/kibana-overview.png" alt="images/kibana-overview.png" /></div></div><p>The Cloud UI’s landing screen displays the available regions. A region can contain multiple clusters, Kibana
instances, proxies, or coordinators.</p><p>Click on the <span class="strong"><strong>Region</strong></span> link to take you to the region overview.</p><div class="informalfigure"><div class="mediaobject"><img src="images/cluster-overview.png" alt="images/cluster-overview.png" /></div></div><p>From here you can see the Elasticsearch clusters in the region, and their Cluster health. There is currently one cluster
defined, which is the cluster that backs the Cloud UI itself.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_provisioning_your_first_cluster"></a>Provisioning Your First Cluster</h2></div></div></div><p>From the Cloud UI, you can specify the amount of computing resources, such as CPU and memory, given to each node
in an Elasticsearch cluster. Cloud Enterprise machines with the Allocator role divide the computing resources available
according to the per-node share you specify and create a cluster with as many nodes as the available resources can support.
The number of virtual nodes is controlled in part by the number of <span class="emphasis"><em>zones</em></span> you specify and by the resource allocation
maximums for each. For example, in an environment with a 64GB maximum RAM, requesting 128GB zones results in the
allocation of two 64GB nodes in each zone, up to the specified number of zones.</p><p>At least one allocator must exist in order to provision a cluster. Navigate to <span class="strong"><strong>create cluster</strong></span> and select the cluster
resources to provision. Cluster provisioning takes a few seconds.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>If you have only created an initial coordinator here, you can only specify single-zone deployments.</p></div></div><div class="informalfigure"><div class="mediaobject"><img src="images/create-cluster.png" alt="images/create-cluster.png" /></div></div><p>After provisioning completes, the <span class="strong"><strong>Clusters</strong></span> tab of the interface contains a link to view the cluster. The cluster
overview shows information about the cluster such as instances and locations, shards, and links to the cluster and
Kibana instance.</p><div class="informalfigure"><div class="mediaobject"><img src="images/cluster-details.png" alt="images/cluster-details.png" /></div></div><p>You have just provisioned your first cluster on a single server Elastic Cloud installation. You will now spin up more
machines and assign roles to those machines, to expand the Elastic Cloud infrastructure.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The Kibana username and password is the same for all clusters: <code class="literal">elastic</code> and <code class="literal">cloud</code>.</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_creating_more_cloud_infrastructure_nodes"></a>Creating More Cloud Infrastructure Nodes</h2></div></div></div><p>The steps in this section create another node on a subsequent machine in your Cloud Enterprise installation. All nodes
besides the initial coordinator start as these nodes.</p><p>Assign roles to nodes in order to define the topology of the installation. On each machine, log in to Docker or copy
the <code class="literal">config.json</code> file to the <code class="literal">.docker/</code> directory.</p><p>Run the following command on every node:</p><div class="informalexample"><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">$ ./cloud-ce-bootstrap.sh additional /mnt/data/elastic/ ~/.docker/config.json 1.0.0-alpha2</pre></div></div><p>The script is very similar to an <code class="literal">initial</code> installation, with the addition of one value. Please see the <code class="literal">initial</code> node
installation for more information.</p><div class="horizontal"><table cellpadding="4px" border="0"><colgroup><col /><col /></colgroup><tbody valign="top"><tr><td valign="top">
<p>
<code class="literal">Coordinator Host</code>
</p>
</td><td valign="top">
<p>
The hostname or IP address of an existing coordinator. Immediately after bootstrap, there is only
one coordinator, the bootstrapped machine.
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">Runner Capacity</code>
</p>
</td><td valign="top">
<p>
Set this value relatively low for coordinator nodes. For allocator nodes, set this value to the
total RAM available on the machine after amounts reserved for Cloud Enterprise and any other systems running on this
machine.
</p>
</td></tr></tbody></table></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>Do not copy the values in the <code class="literal">elastic_cloud_bootstrap.conf</code> file from other machines to the new server. Each
machine has different requirements. Validate the values for IP and DNS on every machine before beginning the bootstrap process.</p></div></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>For automation purposes, you can set up a DNS name for the <code class="literal">Coordinator Host</code>. This only has to be a single
coordinator, and it does not have to be a master. Setting up a round robin CNAME should be enough to ensure that the
value does not need to change in automation scripts.</p></div></div><p>After the Docker command completes, use the Cloud UI to assign roles to the machine. Navigate back to the
UI and define roles for the newly-created nodes.</p><p>Each Cloud Enterprise node can take on several roles:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Upgradable: Cloud Enterprise machines with this role can be upgraded to other roles. This is a default role of every
  node.
</li><li class="listitem">
Allocator: Cloud Enterprise machines with this role allocate the available computing resources to Elasticsearch or
Kibana clusters. A majority of the machines in a region will be Allocators.
</li><li class="listitem">
Coordinator: Cloud Enterprise machines with this role serve as a distributed coordination system and resource
  scheduler.
</li><li class="listitem">
Proxy: Cloud Enterprise machines with this role manage communication between a user and an Elasticsearch or Kibana
instance.
</li><li class="listitem">
Director: Cloud Enterprise nodes with this role manage the ZooKeeper datastore in the region. This role is typically
  shared with the coordinator role. In production deployments it can be separated from a coordinator.
</li></ul></div><p>Each role is associated with a set of Docker containers that provide set pieces of functionality. For example, the
<code class="literal">admin-console</code> container provides API functionality for the admin console and the <code class="literal">admin-console-frontend</code> container
provides the front end for that functionality.</p><p>Assigning roles to a machine is done through the <span class="strong"><strong>Runner</strong></span> tab. Navigate to the <span class="strong"><strong>update roles</strong></span> subsection and select the
roles for the machines. You can configure some roles to require <span class="emphasis"><em>blessing</em></span>`, which is a administrative approval for the
assumption of that role. Requiring role blessing is a way to prevent nodes from automatically assuming roles with
increased trust levels.</p><div class="informalfigure"><div class="mediaobject"><img src="images/runner-update-roles.png" alt="images/runner-update-roles.png" /></div></div><p>Blessing roles can be done through the <span class="strong"><strong>Roles</strong></span> tab in the Cloud UI.</p><div class="informalfigure"><div class="mediaobject"><img src="images/roles-blessing.png" alt="images/roles-blessing.png" /></div></div><p>Directors require a separate process called <span class="emphasis"><em>promotion</em></span>. Promoted directors become members of the ZooKeeper datastore,
with access to the secrets of the entire installation, as well as root certificates. For production environments,
Elastic recommends 3 or 5 directors. Best practices for ZooKeeper are outside of the scope of this manual.</p><div class="informalfigure"><div class="mediaobject"><img src="images/coordinator-promotion.png" alt="images/coordinator-promotion.png" /></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_topology_recommendations"></a>Topology recommendations</h2></div></div></div><p>Every topology is different. Elastic recommends at least 3 directors and coordinators, which can be run on the same
nodes or on separate nodes. Elastic also recommends multiple proxies backed by a load balancer. Elastic does not provide
a software load balancer. The load on the proxies depends on the ingest and search demands of the Elasticsearch clusters
in the region, as well as the algorithm specified by your load balancer.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_load_balancing_proxies"></a>Load balancing proxies</h2></div></div></div><p>Elastic recommends using a load balancer in front of the proxy layer, but you can access proxies directly. A weighting
algorithm such as weighted round robin is recommended, but the exact algorithm may be different depending on the use
case. Elastic recommends terminating SSL at the load balancer layer, and enabling a wildcard certificate based on the
CNAME records that are generated for each cluster. The <code class="literal">PROXY_CLUSTER_CNAME_FORMAT</code> is the value used to generate
cluster CNAME. The <code class="literal">PROXY_LOAD_BALANCER_CNAME</code> is the value used to generate certificates for the proxies directly, if
you are bypassing a load balancer.</p><p>Instead of setting up a wildcard certificate and wildcard DNS, a proxy on every allocator communicates
between Kibana and Elasticsearch. Elastic recommends you set up a wildcard certificate and wildcard DNS.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_cluster_internals"></a>Cluster Internals</h3></div></div></div><p>Nodes in a cluster run inside a Docker container. Docker containers have limited access to the following computing
resources:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Memory.
</li><li class="listitem">
CPU shares. A <span class="emphasis"><em>CPU share</em></span> is a notional currency that entitles a container to a given amount of CPU access. In a
  standard configuration, a container’s amount of CPU shares is tied to the amount of memory allocated to that
  container. Regardless of the quantity of CPU shares, a container’s entitlement to the CPU power available is capped at
  a configurable hard limit.
</li><li class="listitem">
Input/Output Operations Per Second (IOPS) are limited in a fashion similar to CPU shares.
</li></ul></div><p>Docker containers are not currently limited in network throughput and total bandwidth.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_monitoring_cluster_health"></a>Monitoring Cluster Health</h2></div></div></div><p>Monitoring the machines in your infrastructure is currently outside of the scope of Cloud Enterprise. Elastic recommends
you monitor the physical machines. Cloud Enterprise monitors the containers running on a machine, so monitoring of
containers is not as necessary or relevant.</p><p>If an allocator goes offline, vacate the allocator from within the Cloud UI.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_cluster_security"></a>Cluster Security</h2></div></div></div><p>Kibana is set with a default username <code class="literal">elastic</code> and password <code class="literal">cloud</code>. Security is not provided in the scope of the early
alpha. Subsequent alphas will allow editing a shield configuration via the Cloud UI.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_growing_your_machines"></a>Growing Your Machines</h2></div></div></div><p>If you run out of space, you cannot grow or alter your Elasticsearch clusters. More resources can be added at any time
by creating more machines with the <code class="literal">allocator</code> role to them. The constructor immediately recognizes and provisions the
additional resources.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_getting_help"></a>Getting Help</h2></div></div></div><p>For questions about Elastic Cloud, please create a ticket in the ZenDesk account.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_checking_for_allocator_failure"></a>Checking for Allocator Failure</h3></div></div></div><p>Allocator failure is a common cause of trouble in a Cloud Enterprise cluster. Allocator failure results in alerts from
your monitoring software and visible displays in the Cloud Enterprise UI.</p><p>Instead of repairing a failing allocator, vacate the allocator and fail over to new one. You can vacate an allocator from
the <span class="strong"><strong>allocator details</strong></span> section of the UI. Vacate options for a selected allocator can help fine tune the removal of
nodes.</p><p>Note: As of alpha 2, there is no snapshot/restore process, so all vacate processes should check <span class="strong"><strong>gracefully move data</strong></span> and
<span class="strong"><strong>skip snapshot</strong></span>, leaving <span class="strong"><strong>restore from latest snapshot</strong></span> unchecked. Also check <span class="strong"><strong>vacate target</strong></span> based on the value of <code class="literal">RUNNER_NAME</code>.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_installation_problems"></a>Installation problems</h2></div></div></div><p>If the installation does not successfully complete, run the following command to reset the system to its original state:</p><div class="informalexample"><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">docker rm -f frc-runners-runner frc-allocators-allocator $(docker ps -a -q); sudo rm -rf /mnt/data/elastic/* &amp;&amp; docker ps -a</pre></div></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>This command removes all Docker containers on the host.</p></div></div><p>It is possible that the values provided to the script are incorrect, so you may also want to remove (or move) the <code class="literal">elastic_cloud_bootstrap.conf</code> file.</p></div></div><div class="navfooter"><span class="prev"><a href="pr01.html">
              « 
              </a>
           
        </span><span class="next">
           
          </span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        <div id="rtpcontainer" style="display: block;"><h3>Top Videos</h3><ul><li><a href="https://www.elastic.co/webinars/elasticsearch-2-0-overview?baymax=default&elektra=docs&storm=top-video">Getting Started</a></li><li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li><li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li></ul></div></div></div></div></section></div><div id="footer-subscribe"><div class="subscribe-wrapper"><div class="container"><div class="subscribe-form-container"><div class="subscribe-title"><h5>Be in the know with the latest and greatest from Elastic.</h5></div><div class="subscribe-form"><form id="mktoForm_1398" class="mktoForm sb-form"></form></div></div><div class="form_thanks hide"><p>Thanks for subscribing! We'll keep you updated with new releases.</p></div></div></div></div><footer class="footer-wrapper"><div class="container"><div class="row footer-content"><div class="col-xs-6 col-sm-3 col-md-3"><h3><a href="/products">Products ></a></h3><ul><li><a href="/products/elasticsearch">Elasticsearch</a></li><li><a href="/products/kibana">Kibana</a></li><li><a href="/products/logstash">Logstash</a></li><li><a href="/products/beats">Beats</a></li><li><a href="/cloud">Elastic Cloud</a></li><li><a href="/products/shield">Shield (Security)</a></li><li><a href="/products/watcher">Watcher (Alerting)</a></li><li><a href="/products/marvel">Marvel (Monitoring)</a></li><li><a href="/products/graph">Graph</a></li><li><a href="/products/hadoop">ES-Hadoop</a></li></ul></div><div class="col-xs-6 col-sm-3 col-md-3"><h3>Resources</h3><ul><li><a href="/blog">Blog</a></li><li><a href="/community">Community</a></li><li><a href="/use-cases">Customers & Use Cases</a></li><li><a href="/guide">Documentation</a></li><li><a href="/elasticon">Elastic{ON} Events</a></li><li><a href="https://discuss.elastic.co/" target="_blank">Forums</a></li><li><a href="/community/meetups">Meetups</a></li><li><a href="/subscriptions">Subscriptions</a></li><li><a href="https://support.elastic.co" target="_blank">Support Portal</a></li><li><a href="/videos">Videos & Webinars</a></li><li><a href="/training">Training</a></li></ul></div><div class="col-xs-6 col-sm-3 col-md-3"><h3><a href="/about">About ></a></h3><ul><li><a href="/about/careers">Careers/Jobs</a></li><li><a href="/contact">Contact</a></li><li><a href="/about/leadership">Leadership</a></li><li><a href="/about/partners">Partners</a></li><li><a href="/about/press">Press</a></li></ul></div><div class="col-xs-6 col-sm-3 col-md-3"><h3>Language</h3><ul><li><a href="/">English</a></li><li><a href="/fr/">Français</a></li><li><a href="/de/">Deutsch</a></li><li><a href="/jp/">日本語</a></li><li><a href="/kr/">한국어</a></li></ul></div></div><div class="row social-icon"><div class="col-xs-12 col-sm-12 col-md-12"><ul><li class="facebook"><a target="_blank" id="footer_facebook" href="http://www.facebook.com/elastic.co" target="_blank"></a></li><li class="twitter"><a target="_blank" id="footer_twitter" href="https://www.twitter.com/elastic" target="_blank"></a></li><li class="linkedin"><a target="_blank" id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co" target="_blank"></a></li><li class="xing"><a target="_blank" id="footer_xing" href="https://www.xing.com/companies/elastic.co" target="_blank"></a></li><li class="youtube"><a target="_blank" id="footer_youtube" href="https://www.youtube.com/user/elasticsearch" target="_blank"></a></li></ul></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div class="copyright"><ul><li><a href="/legal/trademarks">Trademarks</a></li><li><a href="/legal/terms-of-use">Terms of Use</a></li><li><a href="/legal/privacy-policy">Privacy</a></li><li><a href="/legal/privacy-and-cookie-policy">Cookie Policy</a></li><li><a href="/brand">Brand</a></li></ul><div class="copyright-content"><div class="footer-logo"><a href="/"><img src="/static/images/svg/logo-elastic-footer.svg" class="img-responsive"></a></div><div class="footer-text"><p>© 2016. All Rights Reserved - Elasticsearch</p><p>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries</p><p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other countries.</p></div></div></div></div></div></div></footer><style type="text/css">
	
    
		.facebook{background:url("https://static-www.elastic.co/assets/bltf546ff2e0a8f2de5/facebook.svg?q=635") no-repeat;}
    
    
      .facebook:hover {background:url("https://static-www.elastic.co/assets/bltc24cf11c714ecfc4/facebook-hover.svg?q=635")}		
    
	
    
		.twitter{background:url("https://static-www.elastic.co/assets/bltdd9556d6b24e2b85/twitter.svg?q=635") no-repeat;}
    
    
      .twitter:hover {background:url("https://static-www.elastic.co/assets/blt90b0372cc07a54d3/twitter-hover.svg?q=635")}		
    
	
    
		.linkedin{background:url("https://static-www.elastic.co/assets/bltc4a77e0f52ce07f1/linkedin.svg?q=635") no-repeat;}
    
    
      .linkedin:hover {background:url("https://static-www.elastic.co/assets/blt01ce654380e4ea6c/linkedin-hover.svg?q=635")}		
    
	
    
		.xing{background:url("https://static-www.elastic.co/assets/bltc6347078dcc9ec76/xing.svg?q=635") no-repeat;}
    
    
      .xing:hover {background:url("https://static-www.elastic.co/assets/bltededebe5f7521a39/xing-hover.svg?q=635")}		
    
	
    
		.youtube{background:url("https://static-www.elastic.co/assets/blt4982061ce1aebc7f/youtube.svg?q=635") no-repeat;}
    
    
      .youtube:hover {background:url("https://static-www.elastic.co/assets/bltddeb6c6404ae81a5/youtube-hover.svg?q=635")}		
    
	
</style><script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script><script>
  MktoForms2.whenReady(function (form) {
  //    // Put your code that uses the form object here
  //   $('#Email').attr("placeholder","Email Address");
  //   $('#FirstName').attr("placeholder","First Name");
  //   $('#LastName').attr("placeholder","Last Name");
  //   $('#Form_Message').attr("placeholder","Tell us in your words");
  // // ========================End Mktoform placeholder==================
  });

  MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
    form.onSuccess(function(form){
      $('#mktoForm_1398').css('display','none');
      $('.subscribe-wrapper .subscribe-form-container').hide();
      $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
      dataLayer.push({'event': 'mktoFormSubmit'});
        return false;
      });
  });
</script></section></div><script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","url":"/guide_template"}';
</script><script src="https://static-www.elastic.co/static/js/jquery.autocomplete.js?q=635"></script><script src="https://static-www.elastic.co/static/js/jquery.cookie.js?q=635"></script><script type="text/javascript" src="https://static-www.elastic.co/static/js/slick.min.js?q=635"></script><script src="https://static-www.elastic.co/static/js/nav-v5.js?q=635"></script><script src="https://static-www.elastic.co/static/js/script.js?q=635"></script><style></style>
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        </html>